**Kathara** — это инструмент для эмуляции сетей на основе Docker-контейнеров. Этот инструмент может быть очень полезен для проведения интерактивных демонстраций/уроков, тестирования производственных сетей в песочной среде или разработки новых сетевых протоколов.

В среде Kathara каждое сетевое устройство реализовано в виде контейнера, а каждое соединение эмулируется с помощью виртуальной сети.

Каждое устройство можно настроить для работы с произвольным количеством (виртуальных) сетевых интерфейсов.

По умолчанию устройства используют образ Docker, который включает сетевое программное обеспечение, такое как демоны маршрутизации (RIP, OSPF и т.д.), HTTP-сервер, инструменты для работы с фаерволом (iptables(8)) и диагностические утилиты (ping(1), traceroute(1), tcpdump(1) и т.д.).
Путем настройки соответствующего программного обеспечения можно точно эмулировать конкретное сетевое устройство (например, маршрутизатор).

Kathara предоставляет два альтернативных интерфейса для запуска и настройки устройств. Набор команд с префиксом v- (vstart, vclean, vconfig), которые позволяют запускать и управлять отдельными устройствами, обеспечивая детальный контроль над их конфигурацией; и набор команд с префиксом l- (lstart, lclean, linfo, lrestart, lconfig), которые упрощают настройку предварительно сконфигурированных сетевых сценариев, состоящих из нескольких устройств.

Kathara также предоставляет набор глобальных команд:
* connect - подключиться к устройству kathara;
* info - показывает информацию о сетевой лаборатории kathara;
* wipe - удалить все устройства Kathara и домены коллизий, опционально также удалить настройки;
* settings - показать и редактировать настройки;
* check - проверить системное окружение.

## Пример

Построим топологию, состоящую из двух хостов и маршрутизатора.

Соединения между хостами прописываются в файле lab.conf:

```
pc1[0]="A"

router[0]="A"
router[1]="B"

pc2[0]="B"
```

Опишем также оба хоста в файлах pc1.startup, pc2.startup:

```
ip link set eth0 up
ip addr add 10.0.0.1/24 dev eth0
ip route add default via 10.0.0.254
```

```
ip link set eth0 up
ip addr add 10.0.1.1/24 dev eth0
ip route add default via 10.0.1.254
```

Запустим топологию `kathara lstart` и посмотрим список устройств `kathara list`:
![[Pasted image 20250917144150.png]]
Зайдем в устройство pc1 и пропингуем pc2 `kathara connect pc1`:
![[Pasted image 20250917144226.png]]
Пинг проходит успешно.